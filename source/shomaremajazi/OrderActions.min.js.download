$(document).ready(function() {
    $("#loading").css("display", "none"), $(".submit").click(function(a) {
        $(".submit").css("display", "none"), $("#loading").css("display", "block"), $(".submit").attr("disabled", "true"), $("#callback").html(""), $.ajax({
            url: $("." + ajaxID).attr("action"),
            type: $("." + ajaxID).attr("method"),
            data: $("." + ajaxID).serialize(),
            success: function(a) {
                $("#callback").html(a), $("#loading").css("display", "none"), $(".submit").removeAttr("disabled"), $(".submit").css("display", "block")
            }
        }), a.preventDefault()
    })
}), $(function() {
    $("#categories").change(function() {
        var a = $(this).find("option:selected");
        $.post(servicesUrl, {
            category: $(this).val(),
            _token: token
        }, function(t, e) {
            a.attr("data-description") ? $("input[name=link]").attr("placeholder", a.attr("data-description")) : ("InstaUser" == a.attr("data-validation") && $("input[name=link]").attr("placeholder", "Ø¨Ø±Ø§ÛŒ Ø³Ø±ÙˆÛŒØ³ ÙØ§Ù„ÙˆÙˆØ± Ø§Ø² Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ (ID ØµÙØ­Ù‡) Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯"), "InstaLink" == a.attr("data-validation") && $("input[name=link]").attr("placeholder", "Ø¨Ø±Ø§ÛŒ Ø³Ø±ÙˆÛŒØ³ Ù‡Ø§ÛŒ Ù„Ø§ÛŒÚ© Ùˆ Ø¨Ø§Ø²Ø¯ÛŒØ¯ Ù„ÛŒÙ†Ú© Ú©Ø§Ù…Ù„ ØµÙØ­Ù‡ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯"), "Telegram" == a.attr("data-validation") && $("input[name=link]").attr("placeholder", "Ø¨Ø±Ø§ÛŒ Ø³Ø±ÙˆÛŒØ³ Ù‡Ø§ÛŒ Ù…Ù…Ø¨Ø± ID Ú©Ø§Ù†Ø§Ù„ Ø±Ø§ Ø¨Ø¯ÙˆÙ† @ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯")), $("#services").replaceOptions(JSON.parse(t)), $("#services").show("slow")
        })
    });
	$("#sub_categories").change(function() {
		$("#categories").css("display", "block")
        $text = $("#sub_categories option:selected").text();
		$irani = search_word($text, 'Ø§ÛŒØ±Ø§Ù†ÛŒ');
		$khareji = search_word($text, 'Ø®Ø§Ø±Ø¬ÛŒ');
		$bisfun = search_word($text, 'Ø¨ÛŒØ³ÙÙˆÙ†');
		$like = search_word($text, 'Ù„Ø§ÛŒÚ©');
		$follower = search_word($text, 'ÙØ§Ù„ÙˆÙˆØ±');
		$view1 = search_word($text, 'ÙˆÛŒÙˆÙˆ');
		$view2 = search_word($text, 'Ø¨Ø§Ø²Ø¯ÛŒØ¯');
		$member = search_word($text, 'Ù…Ù…Ø¨Ø±');
		if ($irani) {
			$t1 = 'Ø§ÛŒØ±Ø§Ù†ÛŒ';
		}
		if ($khareji) {
			$t1 = 'Ø®Ø§Ø±Ø¬ÛŒ';
		}
		if ($bisfun) {
			$t1 = 'Ø¨ÛŒØ³ÙÙˆÙ†';
		}
		if ($like) {
			$t2 = 'Ù„Ø§ÛŒÚ©';
		}
		if ($follower) {
			$t2 = 'ÙØ§Ù„ÙˆÙˆØ±';
		}
		if ($view1) {
			$t2 = 'ÙˆÛŒÙˆÙˆ';
		}
		if ($view2) {
			$t2 = 'Ø¨Ø§Ø²Ø¯ÛŒØ¯';
		}
		if ($member) {
			$t2 = 'Ù…Ù…Ø¨Ø±';
		}
		
		$('#categories').find('option').each(function() {

			if (search_word($(this).text(), $t1) && search_word($(this).text(), $t2) || $(this).val() == 0) {
				$(this).attr('hidden', false);
			} else {
				$(this).attr('hidden', true);
			}
			
			$( "#categories option:visible").first().prop('selected', true);
		});
		$('#categories option:visible').each(function(i) {
			if (i % 2 == 0) {
				$(this).css("background-color", "#f2f5f9");
			} else {
				$(this).css("background-color", "#ffffff");
			}
		});
    });
});

function search_word(text, word){
    
    var x = 0, y=0;
   
    for (i=0;i< text.length;i++)
        {
        if(text[i] == word[0])
            {
            for(j=i;j< i+word.length;j++)
               {
                if(text[j]==word[j-i])
                  {
                    y++;
                  }
                if (y==word.length){
                    x++;
                }
            }
            y=0;
        }
    }
   return x;
}